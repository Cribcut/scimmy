{
  "parse": {
    "simple": [
      {"source": "id pr", "target": [{"id": ["pr"]}]},
      {"source": "userName eq \"Test\"", "target": [{"userName": ["eq", "Test"]}]},
      {"source": "displayName co \"Bob\"", "target": [{"displayName": ["co", "Bob"]}]},
      {"source": "name.formatted sw \"Bob\"", "target": [{"name": {"formatted": ["sw", "Bob"]}}]},
      {"source": "quota gt 1.5", "target": [{"quota": ["gt", 1.5]}]},
      {"source": "UserType eq null", "target": [{"userType": ["eq", null]}]},
      {"source": "active eq false", "target": [{"active": ["eq", false]}]},
      {"source": "emails.primary eq true", "target": [{"emails": {"primary": ["eq", true]}}]}
    ],
    "logical": [
      {"source": "id pr and userName eq \"Test\"", "target": [{"id": ["pr"], "userName": ["eq", "Test"]}]},
      {"source": "userName eq \"Test\" or displayName co \"Bob\"", "target": [{"userName": ["eq", "Test"]}, {"displayName": ["co", "Bob"]}]},
      {"source": "email.value ew \"@example.com\" and not userName eq \"Test\"", "target": [{"email": {"value": ["ew", "@example.com"]}, "userName": ["not", "eq", "Test"]}]},
      {"source": "email.type eq \"work\" or not userName ne \"Test\"", "target": [{"email": {"type": ["eq", "work"]}}, {"userName": ["not", "ne", "Test"]}]},
      {"source": "email.type eq \"work\" and not email.value ew \"@example.com\"", "target": [{"email": {"type": ["eq", "work"], "value": ["not", "ew", "@example.com"]}}]},
      {"source": "name.formatted sw \"Bob\" and name.honoraryPrefix eq \"Mr\"", "target": [{"name": {"formatted": ["sw", "Bob"], "honoraryPrefix": ["eq", "Mr"]}}]}
    ],
    "grouping": [
      {
        "source": "emails[type eq \"work\"]",
        "target": [{"emails": {"type": ["eq", "work"]}}]
      },
      {
        "source": "emails[type eq \"work\"].value ew \"@example.org\"",
        "target": [{"emails": {"type": ["eq", "work"], "value": ["ew", "@example.org"]}}]
      },
      {
        "source": "emails[type eq \"work\" or type eq \"home\"].value ew \"@example.org\"",
        "target": [
          {"emails": {"type": ["eq", "work"], "value": ["ew", "@example.org"]}},
          {"emails": {"type": ["eq", "home"], "value": ["ew", "@example.org"]}}
        ]
      },
      {
        "source": "userType ne \"Employee\" and not (emails co \"example.com\" or emails.value co \"example.org\")",
        "target": [
          {"userType": ["ne", "Employee"], "emails": ["not", "co", "example.com"]},
          {"userType": ["ne", "Employee"], "emails": {"value": ["not", "co", "example.org"]}}
        ]
      },
      {
        "source": "emails[type eq \"work\" and value co \"@example.com\"] or ims[type eq \"xmpp\" and value co \"@foo.com\"]",
        "target": [
          {"emails": {"type": ["eq", "work"], "value": ["co", "@example.com"]}},
          {"ims": {"type": ["eq", "xmpp"], "value": ["co", "@foo.com"]}}
        ]
      },
      {
        "source": "emails[type eq \"work\" or type eq \"home\"].values[domain ew \"@example.org\"]",
        "target": [
          {"emails": {"type": ["eq", "work"], "values": {"domain": ["ew", "@example.org"]}}},
          {"emails": {"type": ["eq", "home"], "values": {"domain": ["ew", "@example.org"]}}}
        ]
      },
      {
        "source": "emails[type eq \"work\" or type eq \"home\"].values[domain ew \"@example.org\" or domain ew \"@example.com\"]",
        "target": [
          {"emails": {"type": ["eq", "work"], "values": {"domain": ["ew", "@example.org"]}}},
          {"emails": {"type": ["eq", "work"], "values": {"domain": ["ew", "@example.com"]}}},
          {"emails": {"type": ["eq", "home"], "values": {"domain": ["ew", "@example.org"]}}},
          {"emails": {"type": ["eq", "home"], "values": {"domain": ["ew", "@example.com"]}}}
        ]
      },
      {
        "source": "emails[type eq \"work\" or type eq \"home\"].values[domain ew \"@example.org\" or domain ew \"@example.com\"].recipient pr",
        "target": [
          {"emails": {"type": ["eq", "work"], "values": {"domain": ["ew", "@example.org"], "recipient": ["pr"]}}},
          {"emails": {"type": ["eq", "work"], "values": {"domain": ["ew", "@example.com"], "recipient": ["pr"]}}},
          {"emails": {"type": ["eq", "home"], "values": {"domain": ["ew", "@example.org"], "recipient": ["pr"]}}},
          {"emails": {"type": ["eq", "home"], "values": {"domain": ["ew", "@example.com"], "recipient": ["pr"]}}}
        ]
      },
      {
        "source": "emails[type eq \"work\"].values[domain ew \"@example.org\" or domain ew \"@example.com\"].recipient pr",
        "target": [
          {"emails": {"type": ["eq", "work"], "values": {"domain": ["ew", "@example.org"], "recipient": ["pr"]}}},
          {"emails": {"type": ["eq", "work"], "values": {"domain": ["ew", "@example.com"], "recipient": ["pr"]}}}
        ]
      }
    ],
    "complex": [
      {
        "source": "(name.FamilyName eq \"Employee\" or name.FamilyName eq \"Manager\") and (emails.Value co \"example.com\" or emails.Value co \"example.org\")",
        "target": [
          {"name": {"familyName": ["eq", "Employee"]}, "emails": {"value": ["co", "example.com"]}},
          {"name": {"familyName": ["eq", "Employee"]}, "emails": {"value": ["co", "example.org"]}},
          {"name": {"familyName": ["eq", "Manager"]}, "emails": {"value": ["co", "example.com"]}},
          {"name": {"familyName": ["eq", "Manager"]}, "emails": {"value": ["co", "example.org"]}}
        ]
      },
      {
        "source": "userType eq \"Employee\" and emails[type eq \"work\" or (primary eq true and value co \"@example.com\")]",
        "target": [
          {"userType": ["eq", "Employee"], "emails": {"type": ["eq", "work"]}},
          {"userType": ["eq", "Employee"], "emails": {"primary": ["eq", true], "value": ["co", "@example.com"]}}
        ]
      },
      {
        "source": "emails[type eq \"work\" or (primary eq true and value co \"@example.com\")] and userType eq \"Employee\"",
        "target": [
          {"userType": ["eq", "Employee"], "emails": {"type": ["eq", "work"]}},
          {"userType": ["eq", "Employee"], "emails": {"primary": ["eq", true], "value": ["co", "@example.com"]}}
        ]
      },
      {
        "source": "userType eq \"Employee\" and emails[type eq \"work\" or (primary eq true and value co \"@example.com\")].display co \"Work\"",
        "target": [
          {"userType": ["eq", "Employee"], "emails": {"type": ["eq", "work"], "display": ["co", "Work"]}},
          {"userType": ["eq", "Employee"], "emails": {"primary": ["eq", true], "value": ["co", "@example.com"], "display": ["co", "Work"]}}
        ]
      },
      {
        "source": "userType eq \"Employee\" or emails[type eq \"work\" or (primary eq true and value co \"@example.com\")].display co \"Work\"",
        "target": [
          {"userType": ["eq", "Employee"]}, 
          {"emails": {"type": ["eq", "work"], "display": ["co", "Work"]}},
          {"emails": {"primary": ["eq", true], "value": ["co", "@example.com"], "display": ["co", "Work"]}}
        ]
      },
      {
        "source": "userType eq \"Employee\" or emails[type eq \"work\" and (primary eq false and value co \"@example.com\")].display co \"Work\"",
        "target": [
          {"userType": ["eq", "Employee"]},
          {"emails": {"type": ["eq", "work"], "primary": ["eq", false], "value": ["co", "@example.com"], "display": ["co", "Work"]}}
        ]
      }
    ]
  },
  "match": {
    "source": [
      {"id": 1, "userName": "AdeleV", "name": {"formatted": "Adele Vance"}, "date": "2021-07-25T12:37:58.132Z", "number": 4},
      {"id": 2, "userName": "GradyA", "name": {"formatted": "Grady Archie"}, "date": "2021-09-22T02:32:12.026Z", "number": 6},
      {"id": 3, "userName": "LynneR", "name": {"formatted": "Lynne Robbins"}, "date": "2021-08-05T10:11:57.910Z", "number": 14},
      {"id": 4, "userName": "MeganB", "name": {"formatted": "Megan Bowen"}, "date": "2021-09-08T23:02:28.986Z", "number": 9}
    ],
    "targets": [
      {"expression": {"userName": ["co", "A"]}, "expected": [1, 2]},
      {"expression": {"username": ["sw", "A"]}, "expected": [1]},
      {"expression": {"name": {"formatted": ["co", "a"]}}, "expected": [1, 2, 4]},
      {"expression": {"Name": {"fOrmaTTed": ["co", "a"]}}, "expected": [1, 2, 4]},
      {"expression": {"userName": ["co", "A"], "name": {"formatted": ["co", "a"]}}, "expected": [1, 2]},
      {"expression": {"date": ["gt", "2021-08-05"]}, "expected": [2, 3, 4]},
      {"expression": {"date": ["lt", "2021-09"]}, "expected": [1, 3]},
      {"expression": {"date": ["co", "2021-09"]}, "expected": [2, 4]},
      {"expression": {"date": ["not", "co", "2021-09"]}, "expected": [1, 3]},
      {"expression": {"date": ["gt", "2021-08-05T12:00:00Z"]}, "expected": [2, 4]},
      {"expression": {"date": ["ge", "2021-09-08T23:02:28.986Z"]}, "expected": [2, 4]},
      {"expression": {"date": ["le", "2021-09-08T23:02:28.986Z"]}, "expected": [1, 3, 4]}
    ]
  }
}